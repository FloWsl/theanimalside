// src/components/OrganizationDetail/WildlifeCareSection.tsx\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Heart, \n  Users, \n  Shield, \n  MapPin, \n  Info, \n  X,\n  ExternalLink,\n  TrendingUp,\n  Activity\n} from 'lucide-react';\nimport { AnimalCare } from '../../types';\nimport ResponsiveImage from './ResponsiveImage';\nimport BottomSheetModal from './BottomSheetModal';\n\ninterface WildlifeCareSectionProps {\n  animalTypes: AnimalCare[];\n  organizationName: string;\n  onNavigateToAnimalPage?: (animalType: string) => void;\n}\n\ninterface AnimalModalProps {\n  animal: AnimalCare;\n  isOpen: boolean;\n  onClose: () => void;\n  onNavigateToPage?: (animalType: string) => void;\n}\n\nconst AnimalModal: React.FC<AnimalModalProps> = ({ animal, isOpen, onClose, onNavigateToPage }) => {\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Desktop Modal */}\n      <div className=\"hidden lg:block\">\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-6\"\n          onClick={onClose}\n        >\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\n            className=\"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Modal Header */}\n            <div className=\"relative h-64\">\n              <ResponsiveImage\n                src={animal.image}\n                alt={`${animal.animalType} in their natural habitat`}\n                className=\"w-full h-full object-cover\"\n                aspectRatio=\"auto\"\n                priority={true}\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent\" />\n              <div className=\"absolute bottom-6 left-6 text-white\">\n                <h2 className=\"text-4xl font-bold mb-2\">{animal.animalType}</h2>\n                <p className=\"text-lg opacity-90\">{animal.species.join(', ')}</p>\n              </div>\n              <button\n                onClick={onClose}\n                className=\"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-8 overflow-y-auto max-h-[calc(90vh-16rem)]\">\n              <div className=\"grid lg:grid-cols-2 gap-8\">\n                {/* Left Column */}\n                <div className=\"space-y-6\">\n                  {/* Description */}\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-forest mb-3\">About These Animals</h3>\n                    <p className=\"text-forest/80 leading-relaxed\">{animal.description}</p>\n                  </div>\n\n                  {/* Conservation Status */}\n                  <div className=\"bg-gradient-to-br from-sage-green/10 to-warm-sunset/5 rounded-2xl p-4 border border-sage-green/20\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Shield className=\"w-5 h-5 text-sage-green\" />\n                      <h4 className=\"font-semibold text-forest\">Conservation Status</h4>\n                    </div>\n                    <p className=\"text-forest/80\">{animal.conservationStatus}</p>\n                  </div>\n\n                  {/* Current Animals */}\n                  <div className=\"bg-gradient-to-br from-rich-earth/10 to-warm-sunset/5 rounded-2xl p-4 border border-rich-earth/20\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Users className=\"w-5 h-5 text-rich-earth\" />\n                      <h4 className=\"font-semibold text-forest\">Currently at Sanctuary</h4>\n                    </div>\n                    <p className=\"text-2xl font-bold text-rich-earth\">{animal.currentAnimals}</p>\n                    <p className=\"text-sm text-forest/70\">animals in our care</p>\n                  </div>\n                </div>\n\n                {/* Right Column */}\n                <div className=\"space-y-6\">\n                  {/* Care Activities */}\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-forest mb-3\">What You'll Do</h3>\n                    <div className=\"space-y-3\">\n                      {animal.careActivities.map((activity, index) => (\n                        <div key={index} className=\"flex items-start gap-3 p-3 bg-cream rounded-xl\">\n                          <Activity className=\"w-4 h-4 text-sage-green flex-shrink-0 mt-0.5\" />\n                          <span className=\"text-forest text-sm\">{activity}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Success Stories */}\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-forest mb-3\">Success Stories</h3>\n                    <div className=\"space-y-3\">\n                      {animal.successStories.map((story, index) => (\n                        <div key={index} className=\"flex items-start gap-3 p-3 bg-gradient-to-br from-golden-hour/10 to-warm-sunset/5 rounded-xl border border-golden-hour/20\">\n                          <TrendingUp className=\"w-4 h-4 text-golden-hour flex-shrink-0 mt-0.5\" />\n                          <span className=\"text-forest text-sm font-medium\">{story}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Navigation to Animal Page */}\n                  {onNavigateToPage && (\n                    <div className=\"bg-gradient-to-br from-deep-forest/5 to-sage-green/5 rounded-2xl p-4 border border-sage-green/20\">\n                      <h4 className=\"font-semibold text-forest mb-2\">Learn More</h4>\n                      <p className=\"text-sm text-forest/70 mb-3\">\n                        Discover more volunteer opportunities working specifically with {animal.animalType.toLowerCase()}\n                      </p>\n                      <button\n                        onClick={() => onNavigateToPage(animal.animalType.toLowerCase())}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-sage-green hover:bg-sage-green/90 text-white rounded-xl transition-colors text-sm font-medium\"\n                      >\n                        <span>View {animal.animalType} Opportunities</span>\n                        <ExternalLink className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n\n      {/* Mobile Bottom Sheet */}\n      <div className=\"lg:hidden\">\n        <BottomSheetModal\n          isOpen={isOpen}\n          onClose={onClose}\n          title={animal.animalType}\n        >\n          <div className=\"space-y-6\">\n            {/* Mobile Image */}\n            <div className=\"relative h-48 -mx-6 -mt-6 mb-6\">\n              <ResponsiveImage\n                src={animal.image}\n                alt={`${animal.animalType} in their natural habitat`}\n                className=\"w-full h-full object-cover\"\n                aspectRatio=\"auto\"\n                priority={true}\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent\" />\n              <div className=\"absolute bottom-4 left-6 text-white\">\n                <h2 className=\"text-2xl font-bold\">{animal.animalType}</h2>\n                <p className=\"text-sm opacity-90\">{animal.species.slice(0, 2).join(', ')}</p>\n              </div>\n            </div>\n\n            {/* Mobile Content */}\n            <div className=\"space-y-4\">\n              <p className=\"text-forest/80 leading-relaxed\">{animal.description}</p>\n              \n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"bg-sage-green/10 rounded-xl p-3 text-center\">\n                  <div className=\"text-lg font-bold text-sage-green\">{animal.currentAnimals}</div>\n                  <div className=\"text-xs text-forest/70\">In our care</div>\n                </div>\n                <div className=\"bg-rich-earth/10 rounded-xl p-3 text-center\">\n                  <div className=\"text-sm font-semibold text-rich-earth\">{animal.conservationStatus}</div>\n                  <div className=\"text-xs text-forest/70\">Status</div>\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"font-semibold text-forest mb-2\">Care Activities</h4>\n                <div className=\"space-y-2\">\n                  {animal.careActivities.slice(0, 3).map((activity, index) => (\n                    <div key={index} className=\"text-sm text-forest/80\">â€¢ {activity}</div>\n                  ))}\n                </div>\n              </div>\n\n              {onNavigateToPage && (\n                <button\n                  onClick={() => onNavigateToPage(animal.animalType.toLowerCase())}\n                  className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-sage-green hover:bg-sage-green/90 text-white rounded-xl transition-colors font-medium\"\n                >\n                  <span>View {animal.animalType} Opportunities</span>\n                  <ExternalLink className=\"w-4 h-4\" />\n                </button>\n              )}\n            </div>\n          </div>\n        </BottomSheetModal>\n      </div>\n    </>\n  );\n};\n\nconst WildlifeCareSection: React.FC<WildlifeCareSectionProps> = ({ \n  animalTypes, \n  organizationName, \n  onNavigateToAnimalPage \n}) => {\n  const [selectedAnimal, setSelectedAnimal] = useState<AnimalCare | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleAnimalClick = (animal: AnimalCare) => {\n    setSelectedAnimal(animal);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setSelectedAnimal(null);\n  };\n\n  const handleNavigateToAnimalPage = (animalType: string) => {\n    handleCloseModal();\n    if (onNavigateToAnimalPage) {\n      onNavigateToAnimalPage(animalType);\n    } else {\n      // Fallback navigation\n      window.open(`/opportunities/${animalType}`, '_blank');\n    }\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Section Header */}\n      <div className=\"text-center space-y-4\">\n        <h2 className=\"text-feature text-deep-forest\">Wildlife You'll Work With</h2>\n        <p className=\"text-body-large text-forest/90 max-w-4xl mx-auto\">\n          Get to know the incredible animals you'll be caring for at {organizationName}. \n          Each species has unique needs and fascinating behaviors you'll learn about firsthand.\n        </p>\n      </div>\n\n      {/* Animal Cards Grid */}\n      <div className=\"grid md:grid-cols-2 gap-6\">\n        {animalTypes.map((animal, index) => (\n          <motion.div\n            key={animal.animalType}\n            layout\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: index * 0.1 }}\n            className=\"group relative bg-white rounded-3xl overflow-hidden shadow-nature hover:shadow-nature-xl transition-all duration-500 cursor-pointer border border-beige/60 hover:border-sage-green/40 touch-manipulation\"\n            onClick={() => handleAnimalClick(animal)}\n            whileHover={{ y: -4, scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            {/* Full-Width Cover Image */}\n            <div className=\"relative h-64 lg:h-80 overflow-hidden\">\n              <ResponsiveImage\n                src={animal.image}\n                alt={`${animal.animalType} at ${organizationName}`}\n                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                aspectRatio=\"auto\"\n                priority={index < 2}\n                quality={index < 2 ? 90 : 75}\n              />\n              \n              {/* Gradient Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent\" />\n              \n              {/* Hover Overlay */}\n              <div className=\"absolute inset-0 bg-sage-green/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n              \n              {/* Info Icon */}\n              <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                <div className=\"p-2 bg-white/20 backdrop-blur-sm rounded-full\">\n                  <Info className=\"w-5 h-5 text-white\" />\n                </div>\n              </div>\n              \n              {/* Current Animals Count */}\n              <div className=\"absolute top-4 left-4\">\n                <div className=\"flex items-center gap-2 px-3 py-1 bg-black/40 backdrop-blur-sm rounded-full text-white text-sm\">\n                  <Users className=\"w-4 h-4\" />\n                  <span className=\"font-medium\">{animal.currentAnimals}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Card Content */}\n            <div className=\"p-6 lg:p-8\">\n              {/* Animal Name & Species */}\n              <div className=\"mb-4\">\n                <h3 className=\"text-card-title font-bold text-deep-forest mb-2 group-hover:text-sage-green transition-colors\">\n                  {animal.animalType}\n                </h3>\n                <div className=\"flex flex-wrap gap-1 mb-3\">\n                  {animal.species.slice(0, 2).map((species, idx) => (\n                    <span key={idx} className=\"text-caption text-forest/60 bg-sage-green/10 px-2 py-1 rounded-full\">\n                      {species}\n                    </span>\n                  ))}\n                  {animal.species.length > 2 && (\n                    <span className=\"text-caption text-forest/60 bg-sage-green/10 px-2 py-1 rounded-full\">\n                      +{animal.species.length - 2} more\n                    </span>\n                  )}\n                </div>\n              </div>\n\n              {/* Description */}\n              <p className=\"text-body text-forest/80 leading-relaxed mb-4 line-clamp-3\">\n                {animal.description}\n              </p>\n\n              {/* Key Stats */}\n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                <div className=\"bg-gradient-to-br from-sage-green/10 to-sage-green/5 rounded-xl p-3\">\n                  <div className=\"text-sm font-semibold text-sage-green mb-1\">Conservation</div>\n                  <div className=\"text-xs text-forest/70\">{animal.conservationStatus}</div>\n                </div>\n                <div className=\"bg-gradient-to-br from-rich-earth/10 to-rich-earth/5 rounded-xl p-3\">\n                  <div className=\"text-sm font-semibold text-rich-earth mb-1\">Care Activities</div>\n                  <div className=\"text-xs text-forest/70\">{animal.careActivities.length} specialized tasks</div>\n                </div>\n              </div>\n\n              {/* Success Stories Preview */}\n              {animal.successStories.length > 0 && (\n                <div className=\"bg-gradient-to-br from-golden-hour/10 to-warm-sunset/5 rounded-xl p-3 border border-golden-hour/20\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Heart className=\"w-4 h-4 text-golden-hour\" />\n                    <span className=\"text-sm font-semibold text-golden-hour\">Success Story</span>\n                  </div>\n                  <p className=\"text-xs text-forest/80 line-clamp-2\">\n                    {animal.successStories[0]}\n                  </p>\n                </div>\n              )}\n\n              {/* Call to Action */}\n              <div className=\"mt-4 pt-4 border-t border-beige/60\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-forest/70\">Click to learn more</span>\n                  <div className=\"flex items-center gap-1 text-sage-green group-hover:text-warm-sunset transition-colors\">\n                    <span className=\"text-sm font-medium\">Explore Care Details</span>\n                    <motion.div\n                      className=\"w-5 h-5\"\n                      animate={{ x: [0, 4, 0] }}\n                      transition={{ duration: 1.5, repeat: Infinity, ease: \"easeInOut\" }}\n                    >\n                      <ExternalLink className=\"w-4 h-4\" />\n                    </motion.div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Call to Action */}\n      <div className=\"bg-gradient-to-br from-deep-forest/5 via-sage-green/5 to-warm-sunset/5 rounded-3xl p-8 shadow-nature-xl border border-sage-green/10 text-center\">\n        <h3 className=\"text-feature text-deep-forest mb-4\">Ready to Make a Difference?</h3>\n        <p className=\"text-body text-forest/80 mb-6 max-w-2xl mx-auto\">\n          Every animal has a story, and you can be part of their journey to recovery and release. \n          Your hands-on care makes a real difference in wildlife conservation.\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n          <button className=\"btn-primary px-8 py-4\">\n            Apply Now\n          </button>\n          <button className=\"btn-outline px-8 py-4\">\n            Learn More About Our Mission\n          </button>\n        </div>\n      </div>\n\n      {/* Animal Detail Modal */}\n      <AnimatePresence>\n        {selectedAnimal && (\n          <AnimalModal\n            animal={selectedAnimal}\n            isOpen={isModalOpen}\n            onClose={handleCloseModal}\n            onNavigateToPage={handleNavigateToAnimalPage}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default WildlifeCareSection;